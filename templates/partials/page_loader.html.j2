<div id="page-loader"
    class="z-[1000] absolute w-screen h-screen top-0 left-0 flex justify-center items-center backdrop-blur-xs backdrop-brightness-90">
    <div class="backdrop-blur-none">
        <div class="flex flex-col justify-center items-center">
            <img src="{{url_for('static',path='/logo.png')}}" alt="" class="w-auto h-16 animate-bounce">
            <span class="text-xl font-bold animate-bounce">Loading...</span>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loader = document.getElementById('page-loader');

        document.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function (e) {
                const href = this.getAttribute('href');

                // Ignore empty hrefs, javascript:void(0), or external links (optional)
                if (!href || href.startsWith('#') || href.startsWith('javascript:')) return;

                // If link opens in new tab or downloads, ignore
                if (this.target === '_blank' || this.hasAttribute('download')) return;

                // Show loader
                loader.classList.replace('hidden', 'flex')
            });
        });
    });

    window.addEventListener('pageshow', () => {
        setTimeout(() => {
            document.getElementById('page-loader').classList.replace('flex', 'hidden')
        }, 300);
    });
</script>